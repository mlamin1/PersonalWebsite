{% extends 'main/base.html' %}
{% load static %}

{% block title %}Blog{% endblock %}

{% block content %}
    <!-- Debug Info -->
    {% comment %} <section>
        <h2>Debug Info</h2>
        <p>Number of blogs: {{ blogs.count }}</p>
        <ul>
            {% for blog in blogs %}
            <li>{{ blog.title }} - {{ blog.id }}</li>
            {% endfor %}
        </ul>
    </section> {% endcomment %}

    <!-- Featured Blog Section -->
    <section class="featured-blog">
        <h2>Featured Blog</h2>
        {% if blogs %}
        {% with featured_blog=blogs.first %}
        <div class="featured-blog-content">
            <div class="featured-blog-image">
                {% if featured_blog.image %}
                <img src="{{ featured_blog.image.url }}" alt="Featured Blog Image">
                {% else %}
                <div class="placeholder-image hero">
                    ML
                </div>
                {% endif %}
            </div>
            <div class="featured-blog-text">
                <h3>{{ featured_blog.title }}</h3>
                <p>{{ featured_blog.excerpt|truncatewords:20 }}</p>
                <a href="{% url 'blog_detail' featured_blog.id %}" class="btn">Read More</a>
            </div>
        </div>
        {% endwith %}
        {% else %}
        <p>No blogs available.</p>
        {% endif %}
    </section>

    <!-- Blog Grid Layout -->
    <section class="blogs">
        <h2>All Blog Posts</h2>
        <div class="blogs-grid">
            {% for blog in blogs %}
            <div class="blog-card">
                {% if blog.image %}
                <img src="{{ blog.image.url }}" alt="{{ blog.title }}">
                {% else %}
                <div class="placeholder-image blog">
                    ML
                </div>
                {% endif %}
                <h3>{{ blog.title }}</h3>
                <p>{{ blog.excerpt|truncatewords:15 }}</p>
                <a href="{% url 'blog_detail' blog.id %}" class="btn">Read More</a>
            </div>
            {% endfor %}
        </div>
    </section>
{% endblock %}


{% comment %} {% extends 'main/base.html' %}
{% load static %}

{% block title %}Blog{% endblock %}

{% block content %}
    <!-- Featured Blog Section -->
    <section class="featured-blog">
        <h2>Featured Blog</h2>
        {% if blogs %}
        {% with featured_blog=blogs.first %}
        <div class="featured-blog-content">
            <img src="{{ featured_blog.image.url }}" alt="Featured Blog Image">
            <div class="featured-blog-text">
                <h3>{{ featured_blog.title }}</h3>
                <p>{{ featured_blog.excerpt|truncatewords:20 }}</p>
                <a href="{% url 'blog_detail' featured_blog.id %}" class="btn">Read More</a>
            </div>
        </div>
        {% endwith %}
        {% endif %}
    </section>

    <!-- Blog Grid Layout -->
    <section class="blogs">
        <h2>All Blog Posts</h2>
        <div class="blogs-grid">
            {% for blog in blogs %}
            <div class="blog-card">
                <img src="{{ blog.image.url }}" alt="{{ blog.title }}">
                <h3>{{ blog.title }}</h3>
                <p>{{ blog.excerpt|truncatewords:15 }}</p>
                <a href="{% url 'blog_detail' blog.id %}" class="btn">Read More</a>
            </div>
            {% endfor %}
        </div>
    </section>
{% endblock %} {% endcomment %}